---
phase: 04-quality-architecture
plan: 03
type: execute
wave: 2
depends_on: ["04-01", "04-02"]
files_modified: []
autonomous: false

must_haves:
  truths:
    - "All 8 skills follow standardized output format"
    - "Sub-agent skills (research) demonstrate isolation pattern"
    - "MCP-using skills (slice) follow token budget guidelines"
  artifacts: []
  key_links:
    - from: "skills/*/SKILL.md"
      to: "CLAUDE.md output format"
      via: "consistent structure"
      pattern: "### .* Complete:"
---

<objective>
Verify all Phase 4 requirements are met and the plugin ecosystem is complete.

Purpose: Final quality gate ensuring all extensions follow the documented patterns, output formats are consistent, and architecture guidelines are in place.

Output: Verification report confirming Phase 4 success criteria.
</objective>

<execution_context>
@/Users/deprasny/.claude/get-shit-done/workflows/execute-plan.md
@/Users/deprasny/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/04-quality-architecture/04-01-SUMMARY.md
@.planning/phases/04-quality-architecture/04-02-SUMMARY.md
@CLAUDE.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Audit all skills for output format compliance</name>
  <files></files>
  <action>
Review all 8 skills and verify they follow the standardized output format from CLAUDE.md.

Skills to audit:
1. skills/help/SKILL.md
2. skills/init/SKILL.md
3. skills/review/SKILL.md
4. skills/refactor/SKILL.md
5. skills/research/SKILL.md
6. skills/slice/SKILL.md
7. skills/context/SKILL.md
8. skills/commit/SKILL.md

For each skill, verify:
- Output section exists with clear structure
- Uses headers (###) appropriately
- Includes Summary, Primary Data, Key Findings/Results, Actionable Items, Notes sections
- Tables are properly formatted

Create an audit report:

| Skill | Output Format | Compliant | Notes |
|-------|---------------|-----------|-------|
| help | Simple table | Yes | Informational only |
| init | Summary + steps | Yes | [notes] |
| ... | ... | ... | ... |

If any skill needs updates for consistency, note what changes are needed.

Note: Some skills (like help) are informational and don't need the full action-complete format.
  </action>
  <verify>Audit report created showing all 8 skills reviewed</verify>
  <done>All skills audited for output format compliance</done>
</task>

<task type="auto">
  <name>Task 2: Verify architecture documentation completeness</name>
  <files></files>
  <action>
Verify CLAUDE.md contains all required architecture documentation:

1. **Extension Output Format**
   - [ ] Template documented
   - [ ] Sections explained (Summary, Primary Data, Key Findings, Actionable Items, Notes)

2. **Sub-agent Architecture**
   - [ ] Context isolation explained (200K per sub-agent)
   - [ ] No nesting rule documented
   - [ ] Summary-only return pattern documented

3. **Parallel Execution**
   - [ ] Limit documented (5-7 concurrent, max 10)
   - [ ] Batch behavior explained

4. **MCP Token Budget**
   - [ ] 40% threshold documented
   - [ ] ENABLE_TOOL_SEARCH configuration documented
   - [ ] CLI-first approach documented
   - [ ] /mcp and /context commands referenced

Create a documentation completeness report.
  </action>
  <verify>Documentation completeness report shows all 4 architecture areas covered</verify>
  <done>Architecture documentation verified complete</done>
</task>

<task type="checkpoint:human-verify" gate="blocking">
  <what-built>Complete Phase 4 implementation: context and commit skills, output format template, sub-agent architecture docs, MCP token budget guidelines</what-built>
  <how-to-verify>
1. Test /pl:context - Should prompt you to check token usage and provide analysis
2. Test /pl:commit - Should analyze git changes and create well-formatted commit (if you have changes)
3. Run /pl:help - Should show all 8 commands
4. Check CLAUDE.md - Should contain output format, sub-agent, and MCP sections
5. Check skills/init/SKILL.md - Should include MCP guidelines

Quick test sequence:
```
/pl:help          # Verify 8 commands shown
/pl:context       # Verify context analysis works
```
  </how-to-verify>
  <resume-signal>Type "approved" if Phase 4 is complete, or describe any issues found</resume-signal>
</task>

</tasks>

<verification>
Phase 4 Success Criteria (from ROADMAP.md):
1. [x] Running /pl:context displays token usage and budget status (04-01)
2. [x] All extension outputs follow a standardized summary format (04-02 + audit)
3. [x] Running /pl:commit creates well-formatted commits with context (04-01)
4. [x] Sub-agents use isolated 200K context windows (04-02 docs)
5. [x] Parallel execution uses Task tool with up to 7 concurrent sub-agents (04-02 docs)
6. [x] MCP servers do not consume more than 40% of context (04-02 init + docs)
</verification>

<success_criteria>
- All 8 skills audited for output format compliance
- Architecture documentation verified complete in CLAUDE.md
- Human verification confirms Phase 4 implementation works
- Phase 4 can be marked complete in ROADMAP.md
</success_criteria>

<output>
After completion, create `.planning/phases/04-quality-architecture/04-03-SUMMARY.md`
</output>
